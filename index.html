<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>하늘나라 보내주기 대작전</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%; overflow: hidden;
      cursor: default;
      background: url('window.webp') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Arial', sans-serif;
    }

    .page {
      width: 100vw; height: 100vh;
      position: absolute; top: 0; left: 0;
      display: none; justify-content: center; align-items: center;
    }

    .active { display: flex !important; }

    .container {
      position: relative;
      width: 70vw; max-width: 1100px;
    }

    .page-img {
      width: 100%; height: auto; display: block;
    }

    .button {
      position: absolute; cursor: pointer;
      transition: transform 0.2s ease, filter 0.2s ease;
    }

    .button:hover {
      transform: scale(1.08); filter: brightness(1.2);
    }

    #btn-start { top: 58%; left: 10%; width: 350px; }
    #btn-how { top: 73%; left: 10%; width: 350px; }
    #btn-start2 { bottom: 30px; right: 40px; width: 220px; }

    /* Game Page Style */
    #game-page {
      background: url('maingame.png') no-repeat center center;
      background-size: cover;
      z-index: 2;
    }

#portrait {
  position: absolute;
  top: 18.8%;
  left: 39.3%;
  width: 50%; /* 기존 21% → 50% 정도로 크게 */
  z-index: 2;
}

#send-button {
  position: absolute;
  bottom: 9.2%;
  right: 20.3%;
  width: 30%;  /* 기존 6% → 30% */
  cursor: pointer;
}

#like-button {
  position: absolute;
  bottom: 8.8%;
  right: 8%;
  width: 30%;  /* 기존 6% → 30% */
  cursor: pointer;
}

    #percent-text {
      position: absolute; top: 8%; right: 12%; font-size: 1.2rem;
      color: #fff; font-weight: bold; text-shadow: 1px 1px 2px black;
    }

    @media (max-width: 768px) {
      .container { width: 90vw; }
      #btn-start, #btn-how, #btn-start2 { width: 180px; }
    }
  </style>
</head>
<body>
  <!-- 메인 페이지 -->
  <div id="main-page" class="page active">
    <div class="container">
      <img src="first.jpg" alt="메인 이미지" class="page-img">
      <img src="gamestart.png" id="btn-start" class="button" alt="게임 시작">
      <img src="gamehow.png" id="btn-how" class="button" alt="게임 방법">
    </div>
  </div>

  <!-- 게임 방법 페이지 -->
  <div id="how-page" class="page">
    <div class="container">
      <img src="howtoplay_image.jpg" alt="게임 방법 이미지" class="page-img">
      <img src="gamestart2.png" id="btn-start2" class="button" alt="게임 시작">
    </div>
  </div>

  <!-- 게임 플레이 페이지 -->
  <div id="game-page" class="page">
    <img id="portrait" src="portrait1.png" alt="영정사진">
    <img id="send-button" src="send.png" alt="전송">
    <img id="like-button" src="like.png" alt="좋아요">
    <div id="percent-text"> 0%</div>
  </div>

  <script>
    let percentage = 0;
    const mainPage = document.getElementById('main-page');
    const howPage = document.getElementById('how-page');
    const gamePage = document.getElementById('game-page');
    const portrait = document.getElementById('portrait');
    const percentText = document.getElementById('percent-text');
    const portraits = [
      "portrait1.png", "portrait2.png", "portrait3.png",
      "portrait4.png", "portrait5.png", "portrait6.png"
    ];

    function updatePortrait() {
      let index = 0;
      if (percentage >= 80) index = 5;
      else if (percentage >= 64) index = 4;
      else if (percentage >= 48) index = 3;
      else if (percentage >= 32) index = 2;
      else if (percentage >= 16) index = 1;
      portrait.src = portraits[index];
      percentText.textContent = ` ${percentage}%`;
    }

    function increasePercentage() {
      if (percentage < 99) {
        percentage += 8;
        if (percentage > 99) percentage = 99;
        updatePortrait();
      }
    }

    document.getElementById('like-button').addEventListener('click', increasePercentage);
    document.getElementById('send-button').addEventListener('click', increasePercentage);

    function enterFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          console.warn(`전체화면 전환 실패: ${err.message}`);
        });
      }
    }

    document.getElementById('btn-start').addEventListener('click', () => {
      enterFullscreen();
      mainPage.classList.remove('active');
      gamePage.classList.add('active');
    });

    document.getElementById('btn-how').addEventListener('click', () => {
      mainPage.classList.remove('active');
      howPage.classList.add('active');
    });

    document.getElementById('btn-start2').addEventListener('click', () => {
      enterFullscreen();
      howPage.classList.remove('active');
      gamePage.classList.add('active');
    });

    mainPage.addEventListener('click', enterFullscreen);
  </script>
</body>
</html>
